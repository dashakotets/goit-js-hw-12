{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedPhotos => {\n    const urlParams = new URLSearchParams({\n        key: '45683137-9da9ef345b4290ae910ded200',\n        q: searchedPhotos,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${urlParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            };\n            return response.json();\n        });\n};\n\n//element.classList.toggle(className)","export const createGalleryCardTemplate = card => {\n    return `<div class=\"gallery-card\">\n    <a href=\"${card.largeImageURL}\"><img src=\"${card.previewURL}\" alt=\"\" title=\"\" class=\"gallery-img\"/></a>\n    <div class=\"card-info\">\n    <ul class=\"info-text\">\n    <li>Likes<span>${card.likes}</span></li>\n    <li>Views<span>${card.views}</span></li>\n    <li>Comments<span>${card.comments}</span></li>\n    <li>Downloads<span>${card.downloads}</span></li>\n    </ul>\n</div></div>`;\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchPhotos } from \"./js/pixabay-api\";\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n                captions: true, \n                captionDelay: 250, \n                captionPosition: 'bottom',\n});\n            \nconst onSearchSubmit = event => {\n    event.preventDefault();\n    const searchedValue = searchForm.elements.user_query.value;\n\n\n    loaderEl.classList.toggle('is-hidden');\n    fetchPhotos(searchedValue)\n        .then(data => {\n            loaderEl.classList.toggle('is-hidden');\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n\n                galleryEl.innerHTML = '';\n                \n\n                return;\n            };\n\n            const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails)).join('');\n\n            galleryEl.innerHTML = galleryCardsTemplate;\n\n            lightbox.refresh();\n        })\n        .catch(err => {\n            iziToast.error({\n                    message: err,\n                    position: 'topRight',\n                });\n        })\n        .finally(() => {\n            searchForm.reset();\n        });\n    \n};\n\nsearchForm.addEventListener('submit', onSearchSubmit);"],"names":["BASE_URL","fetchPhotos","searchedPhotos","urlParams","response","createGalleryCardTemplate","card","searchForm","galleryEl","loaderEl","lightbox","SimpleLightbox","onSearchSubmit","event","searchedValue","data","iziToast","galleryCardsTemplate","imgDetails","err"],"mappings":"6vBAEA,MAAMA,EAAW,2BAEJC,EAAcC,GAAkB,CACzC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAClC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECpBaC,EAA4BC,GAC9B;AAAA,eACIA,EAAK,aAAa,eAAeA,EAAK,UAAU;AAAA;AAAA;AAAA,qBAG1CA,EAAK,KAAK;AAAA,qBACVA,EAAK,KAAK;AAAA,wBACPA,EAAK,QAAQ;AAAA,yBACZA,EAAK,SAAS;AAAA;AAAA,cCCjCC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAG3CC,EAAW,IAAIC,EAAe,aAAc,CAClC,SAAU,GACV,aAAc,IACd,gBAAiB,QACjC,CAAC,EAEKC,EAAiBC,GAAS,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAgBP,EAAW,SAAS,WAAW,MAGrDE,EAAS,UAAU,OAAO,WAAW,EACrCR,EAAYa,CAAa,EACpB,KAAKC,GAAQ,CAEV,GADAN,EAAS,UAAU,OAAO,WAAW,EACjCM,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAEDR,EAAU,UAAY,GAGtB,MAEhB,CACY,MAAMS,EAAuBF,EAAK,KAAK,IAAIG,GAAcb,EAA0Ba,CAAU,CAAC,EAAE,KAAK,EAAE,EAEvGV,EAAU,UAAYS,EAEtBP,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMS,GAAO,CACVH,EAAS,MAAM,CACP,QAASG,EACT,SAAU,UAC9B,CAAiB,CACjB,CAAS,EACA,QAAQ,IAAM,CACXZ,EAAW,MAAK,CAC5B,CAAS,CAET,EAEAA,EAAW,iBAAiB,SAAUK,CAAc"}